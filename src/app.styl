@import url('http://fonts.googleapis.com/css?family=Open+Sans:400italic,700,400')
@import url('http://fonts.googleapis.com/css?family=Raleway:400,700')

colors = #54b980 #5089a5 #aee86a
colors-light = #b3eacb #b2d4e4 #ddf8be
colors-dark = #1a8d4c #1c5d7d #6fb321

linkcolors(cur,total)
  &:nth-child({total}n+{cur})
    color colors-dark[cur - 1]

    &:hover
      color colors-light[cur - 1]

blockcolors(cur,total)
  &:nth-of-type({total}n+{cur})
    background-color colors[cur - 1]

    &:after
      background linear-gradient(transparent 5%, colors[cur - 1])

    .more:hover
      color colors-light[cur - 1]

lightcolors(cur,total)
  &:nth-of-type({total}n+{cur})
    background-color colors-light[cur - 1]

centerpage()
  max-width 1000px
  margin 0 auto

body
  font-family 'Open Sans', Helvetica, Arial, sans-serif
  margin 0

h1
  font-family 'Raleway', Helvetica, Arial, sans-serif

.header
  centerpage()
  position relative
  height 100px
  background-color #fff

  .site-title
    margin 0
    padding 20px

  .menubar
    position absolute
    bottom 0
    padding 10px

    .menubar-link
      padding 10px
      text-decoration none
      linkcolors(1,3)
      linkcolors(2,3)
      linkcolors(3,3)

.border
  height 10px
  background-image url("img/border.png")
  background-repeat repeat-x

.intro
  centerpage()

  h2, p
    margin 20px

.body
  centerpage()
  display flex
  flex-flow row wrap
  justify-content space-around
  align-content flex-start

  .entry, .block
    blockcolors(1,3)
    blockcolors(2,3)
    blockcolors(3,3)
    
    &.light
      lightcolors(1,3)
      lightcolors(2,3)
      lightcolors(3,3)

.intro
  width 100%

.block-display
  position relative

  .entry, .block, .filler
    position relative
    overflow hidden
    margin 0px
    flex 0 0 auto

  .entry
    &:before
      content ""
      display block
      padding-top 100%

    &:after
      content ""
      position absolute
      top 50%
      bottom 0
      left @bottom
      right @bottom

    .more
      position absolute
      bottom 0
      left @bottom
      right @bottom
      text-align center
      padding-top 1.5em
      padding-bottom 0.5em
      margin 0
      cursor pointer
      z-index 100

    .inner
      position absolute
      top 10px
      bottom @top*2
      left @bottom
      right @left

  .entry, .large
    h3
      white-space nowrap
      overflow hidden
      text-overflow ellipsis

    p
      overflow hidden
      text-overflow ellipsis

  .large
    display block
    position absolute
    width 100%
    min-height 250px
    z-index 200
    left 0

    .exit
      position absolute
      top 20px
      right @top
      margin 0
      cursor pointer

  .large, .block
    .inner
      margin 10px 20px 20px 20px

      h3
        padding-top 10px

@media screen and (max-width: 450px)
  .entry, .filler
    width 100%

@media screen and (min-width: 450px)
  .entry, .filler
    width 50%

@media screen and (min-width: 900px)
  .entry, .filler
    width 25%

@media screen and (max-width: 750px)
  .block
    width 100%

@media screen and (min-width: 750px)
  .block
    width 50%

.filler
  height 0

.home .intro
  .highlight, a
    color colors-dark[0]

  a:hover
    color colors-light[0]

.classes .intro
  .highlight, a
    color colors-dark[1]

  a:hover
    color colors-light[1]

.projects .intro
  .highlight, a
    color colors-dark[2]

  a:hover
    color colors-light[2]

.inner a
  color #000000

  &:hover
    color #ffffff
