@import url('http://fonts.googleapis.com/css?family=Open+Sans:400italic,700,400')
@import url('http://fonts.googleapis.com/css?family=Raleway:400,700')

colors = #54b980 #5089a5 #aee86a
colors-light = #b3eacb #b2d4e4 #ddf8be
colors-dark = #1a8d4c #1c5d7d #6fb321

linkcolors(cur,total)
  &:nth-child({total}n+{cur})
    color colors-dark[cur - 1]

    &:hover
      color colors-light[cur - 1]

blockcolors(cur,total)
  &:nth-child({total}n+{cur})
    background-color colors[cur - 1]

    &:after
      background linear-gradient(transparent 5%, colors[cur - 1])

    .more:hover
    .exit:hover
      color colors-light[cur - 1]

centerpage()
  max-width 1000px
  margin 0 auto

body
  font-family 'Open Sans', Helvetica, Arial, sans-serif
  margin 0

h1
  font-family 'Raleway', Helvetica, Arial, sans-serif

.header
  centerpage()
  position relative
  height 100px
  background-color #fff

  .site-title
    margin 0
    padding 20px

  .menubar
    position absolute
    bottom 0
    padding 10px

    .menubar-link
      padding 10px
      text-decoration none
      linkcolors(1,3)
      linkcolors(2,3)
      linkcolors(3,3)

.header-border
  height 10px
  background-image url("img/border.png")
  background-repeat repeat-x

.body
  centerpage()
  display flex
  flex-flow row wrap
  justify-content space-around
  align-content flex-start

  .entry
  .large
    blockcolors(1,3)
    blockcolors(2,3)
    blockcolors(3,3)

.block-display
  position relative

  .large
    centerpage()
    position fixed
    top 10%
    bottom @top
    left 0
    right @left
    z-index 200
    box-shadow 3px 3px 3px 3px rgba(0,0,0,0.4)
    border-radius 5px

    .exit
      position absolute
      top 20px
      right @top
      margin 0

    .large-inner
      margin-top 10px
      margin-bottom @margin-top*2
      margin-left @margin-bottom
      margin-right @margin-left

  .entry
  .filler
    position relative
    overflow hidden
    margin 0px
    flex 0 0 auto

  .entry
    &:before
      content ""
      display block
      padding-top 100%

    &:after
      content ""
      position absolute
      top 50%
      bottom 0
      left @bottom
      right @bottom

    .more
      position absolute
      bottom 0
      left @bottom
      right @bottom
      text-align center
      padding-top 1.5em
      padding-bottom 0.5em
      margin 0
      cursor pointer
      z-index 100

    .entry-inner
      position absolute
      top 10px
      bottom @top*2
      left @bottom
      right @left

      h3
        white-space nowrap
        overflow hidden
        text-overflow ellipsis

      p
        overflow hidden
        text-overflow ellipsis

@media screen and (max-width: 450px)
  .entry
  .filler
    width 100%

@media screen and (min-width: 450px)
  .entry
  .filler
    width 50%

@media screen and (min-width: 900px)
  .entry
  .filler
    width 25%

.circle-display
  .entry
  .filler
    margin 35px
    width 160px
    height @width
    border-radius 50%
    flex 0 0 auto

.filler
  height 0
